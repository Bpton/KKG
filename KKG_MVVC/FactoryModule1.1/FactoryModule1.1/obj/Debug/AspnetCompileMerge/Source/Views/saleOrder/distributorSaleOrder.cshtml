
@{
    /**/

    ViewBag.Title = "distributorSaleOrder";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<link href="~/Content/bootstrap-multiselect.css" rel="stylesheet">
<link href="~/Content/chosen.css" rel="stylesheet">

<script src="~/Scripts/toastr.js"></script>
<script src="~/Scripts/jquery-3.3.1.min.js"></script>



<script src="~/Scripts/Duplicate.js"></script>@*Prevent Duplicate Tab*@
<link href="~/Content/toastr.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/buttons/1.4.0/css/buttons.dataTables.min.css" />@*For Export File*@
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>@*For Export File*@
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>@*For Export File*@
<script src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.27/build/pdfmake.min.js"></script>@*For Export File*@
<script src="//cdn.rawgit.com/bpampuch/pdfmake/0.1.27/build/vfs_fonts.js"></script>@*For Export File*@
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/buttons/1.4.0/js/dataTables.buttons.min.js"></script>@*For Export File*@
<script src="//cdn.datatables.net/buttons/1.4.0/js/buttons.flash.min.js"></script>@*For Export File*@
<script src="//cdn.datatables.net/buttons/1.4.0/js/buttons.html5.min.js"></script>@*For Export File*@
<script src="//cdn.datatables.net/buttons/1.4.0/js/buttons.print.min.js"></script>@*For Export File*@
@*<script src="~/Scripts/jquery.fixme.min.js"></script>*@

<script src="~/Scripts/datetimepicker/jqueryui.js"></script>
<script src="~/Scripts/jquery.basic_arithmetics.min.js"></script>
<script src="~/Scripts/jquery.basic_arithmetics.js"></script>

<script src="~/Scripts/jquery.total.js"></script>
<script src="~/Scripts/jquery.documentvalidate.js"></script>
<script src="~/Scripts/chosen.jquery.min.js"></script>
<script src="~/Scripts/bootstrap-multiselect.js"></script>
<script src="~/Scripts/udjs/saleOrderJs.js?08082020"></script>



<style type="text/css">

    .dataTables_scroll {
        overflow: auto;
    }
</style>

<style>
    .dataTable > thead > tr > th[class*=sort]:after {
        display: none;
    }

    table tbody:hover > tr td {
        opacity: 0.5;
    }

    table.dataTable thead tr {
        /*background-color: darkgray;*/
        background-color: lightblue;
    }

    table thead tr {
        /*background-color: darkgray;*/
        background-color: lightblue;
    }

    table tbody:hover > tr:hover td {
        color: #2d2d2d;
        opacity: 1.0;
    }

    table.dataTable tbody tr:nth-child(odd) {
        background: #eee;
    }

    table tbody:nth-child(odd) > tr:nth-child(odd) {
        background: #eee !important;
    }

    .buttons-excel {
        padding: 6px 12px !important;
        background: lightblue !important;
        border-color: #2196F3 !important;
    }

    .dataTables_paginate a {
        padding: 6px 12px !important;
        background: lightblue !important;
        border-color: #2196F3 !important;
    }


    .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
        background: #2196F3;
        color: white !important; /*change the hover text color*/
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button:active {
        background: #2196F3;
        color: white !important; /*below block of css for change style when active*/
    }

    th {
        white-space: nowrap;
    }

    td {
        white-space: nowrap;
    }

    .current_status {
        color: green;
    }

    .current_statussearch {
        color: green;
    }
</style>

<style>
    div.scroll {
        margin: 5px;
        padding: 5px;
        /*width: 1100px;*/
        height: 150px;
        overflow: auto;
    }
</style>

<style>
    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        padding: 12px 16px;
        z-index: 1;
    }

    .dropdown:hover .dropdown-content {
        display: block;
    }
</style>

<style>
    .label {
        color: white;
        font-family: Arial;
    }

    .success {
        background-color: #4CAF50;
    }
    /* Green */
    .info {
        background-color: #2196F3;
    }
    /* Blue */
    .Header {
        background-color: #404dd9;
        padding: 10px;
        text-align: match-parent;
        color: antiquewhite;
        margin: 3px auto;
        box-shadow: 2px 2px 0px 2px #2634bf;
    }

    .warning {
        background-color: #ff9800;
    }
    /* Orange */
    .danger {
        background-color: #f44336;
    }
    /* Red */
    .other {
        background-color: #e7e7e7;
        color: black;
    }
    /* Gray */
</style>

<style>
    .orderNoClass {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        box-sizing: border-box;
        border: none;
        background-color: #3CBC8D;
        color: white;
    }
</style>

<style>
    b.c {
        color: aqua
    }
</style>

<style>
    .button {
        background-color: #f4511e; /* light orange */
        border: none;
        color: white;
        padding: 12px 22px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        margin: 4px 2px;
        cursor: pointer;
        -webkit-transition-duration: 0.4s; /* Safari */
        transition-duration: 0.4s;
    }

    .button1 {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
    }

    .button2:hover {
        box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
    }
</style>

<style>
    #menu ul li.selected {
        background:#FFFFFF;
        color: #910000;
    }

    #menu ul {
        margin: 0;
        padding: 25px 0 0 20px;
        list-style: none;
        line-height: normal;
    }

    

    #menu a:hover {
        text-decoration: underline;
        background: yellow;
        color: #FF6347;
    }

    #menu a:active {
        background: #FF6347;
        color: yellow;
    }
</style>


<div class="panel panel-default">

    <div class="panel-heading">
        <b>Sale Order</b>
    </div>

    <input type="hidden" id="hdn_bsid" />
    <input type="hidden" id="hdn_bsname" />
    <input type="hidden" id="hdn_SumTotalAmount" />
    <input type="hidden" id="hdn_Tpu" />
    <input type="hidden" id="hdn_Customer" />
    <input type="hidden" id="hdn_Mode" />
    <input type="hidden" id="hdn_ExportBS" />
    <input type="hidden" id="hdn_saleorderid" />
    <input type="hidden" id="hdn_sessiondepot" />
    <div style="margin-top:10px;"></div>
    

    <div class="panel-body">
        @*for add new record*@
        <div id="menu">
            <div id="pnlAdd" style="display:none">

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>SALE ORDER DETAILS</b>
                        </div>
                    </div>
                    @*1st phase*@

                    <div id="divcancelorder">
                        <div class="col-xs-1">
                            ORDER CANCEL &nbsp;&nbsp; <input type="checkbox" id="chkactive" />
                        </div>
                    </div>

                    <div id="tr_saleprderno">
                        <div class="col-xs-1">
                            SaleOrder No.
                        </div>
                        <div class="col-xs-4">

                            <input type="text" class="orderNoClass" id="txtsaleorderno" disabled="disabled" style="width:55%" />
                        </div>
                    </div>

                    <div class="row col-xs-12" id="tr_saleOrderNo">
                        <div style="margin-top:10px;"></div>
                        <div class="col-xs-1">
                            Entry Date.
                        </div>
                        <div class="col-xs-3">

                            <input type="text" id="txtsaleorderdate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>
                        <div class="col-xs-1">
                            Ref.PO No.
                        </div>
                        <div class="col-xs-3">

                            <input type="text" id="txtrefsaleorderno" />
                        </div>
                        <div class="col-xs-1">
                            Ref.PO Date.
                        </div>
                        <div class="col-xs-3">

                            <input type="text" id="txtrefsaleorderdate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>
                    </div>

                    <div class="row col-xs-12">
                        <div style="margin-top:10px;"></div>
                        <div class="col-xs-1">
                            Group Name&nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-3">

                            <select id="ddlgroup" class="form-control chosen" style="width:200px"></select>
                        </div>
                        <div class="col-xs-1">
                            Customer Name&nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-3">

                            <select id="ddlcustomer" class="form-control chosen" style="width:200px"></select>
                        </div>
                        <div class="col-xs-1">
                            INCOTERMS&nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-3">

                            <select id="ddldeliveryterms" class="form-control chosen" style="width:200px"></select>
                        </div>
                    </div>

                    <div class="row col-xs-12" id="trCurrency">
                        <div style="margin-top:10px;"></div>

                        <div class="col-xs-1">
                            Currency
                        </div>
                        <div class="col-xs-3">

                            <select id="ddlCurrency" class="form-control chosen" style="width:200px"></select>
                        </div>

                        <div class="col-xs-2">
                            <label id="lblcapacitychk" name="With MRP">With MRP</label>
                            <input type="checkbox" id="chkMRPTag" value=" " class="btn btn-info" />
                        </div>

                    </div>

                    <div class="row col-xs-12" id="trICDS">
                        <div style="margin-top:10px;"></div>

                        <div class="col-xs-1">
                            ICDS
                        </div>
                        <div class="col-xs-3">
                            <input type="text" id="txtICDS" placeholder="ICDS No" style="width: 195px;height:20px;" />
                        </div>

                        <div class="col-xs-1">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICDS Date
                        </div>
                        <div class="col-xs-2">

                            <input type="text" id="txtICDSDate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>
                    </div>

                </div>

                @*2nd phase*@

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>PRODUCT DETAILS</b>
                        </div>
                    </div>

                    <div class="row col-xs-12">
                        <div style="margin-top:10px;"></div>
                        <div class="col-xs-1">
                            Product &nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-2">

                            <select id="ddlProductName" class="form-control chosen" style="width:200px"></select>
                        </div>

                        <div class="col-xs-1">
                            PackSize&nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-2">

                            <select id="ddlpackingsize" class="form-control chosen" style="width:200px"></select>
                        </div>

                        <div class="col-xs-1">
                            Qty&nbsp;<span style="color:red"><b>*</b></span>&nbsp;:
                        </div>
                        <div class="col-xs-2">

                            <input type="text" id="txtqty" style="width: 100px;height:20px" onkeypress="return isNumberKeyWithDot(event);" />
                        </div>

                        <div class="col-xs-1" style="display:none">
                            DISCOUNT(%)
                        </div>
                        <div class="col-xs-2" style="display:none">

                            <input type="text" id="txtdiscount" style="width: 100px;height:20px" onkeypress="return isNumberKeyWithDot(event);" />
                        </div>

                    </div>

                    <div class="row col-xs-12">
                        <div style="margin-top:10px;"></div>
                        <div class="col-xs-1">
                            Stock
                        </div>
                        <div class="col-xs-2">
                            <input type="text" id="txtStockQty" disabled="disabled" style="width: 100px;" class="form-control" />
                        </div>
                        <div class="col-xs-1">
                            Rate
                        </div>
                        <div class="col-xs-2">

                            <input type="text" id="txtrate" style="width: 100px;" />
                        </div>
                        <div class="col-xs-1">
                            Schedule Order From Date
                        </div>
                        <div class="col-xs-2">
                            <input type="text" id="txtrequireddate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>
                        <div class="col-xs-1">
                            Schedule Order To Date
                        </div>
                        <div class="col-xs-2">
                            <input type="text" id="txttorequireddate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>

                    </div>
                    <div class="row col-xs-12">
                        <div class="col-xs-6">
                            <input type="submit" id="btnAdd" value="Add" class="btn btn-primary" />
                        </div>


                        <div class="col-xs-6" id="tdscheduledate">
                            <input type="submit" id="btnScheduledate" value="Update Delivery Schedule Date" class="button button2" />
                        </div>
                    </div>

                </div>

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>SALE ORDER PRODUCT DETAILS</b>
                        </div>
                    </div>
                    <div class="row col-xs-12">
                        <div style="margin-top:10px;"></div>
                        <div class="col-lg-12">
                            <div id="DivSaleOrder" class="scroll">

                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b> Terms & Conditions</b>
                        </div>
                    </div>
                    <div class="row col-xs-12">
                        <div style="margin-top:10px;"></div>
                        <div class="col-lg-6">
                            <div class="scroll" id="grdTerms">

                            </div>
                        </div>
                        <div class="panel-heading">
                            <span class="label Header">PO Quantity Details</span>
                        </div>
                        <div class="col-xs-1">
                            <input type="text" id="txtTotalCase" style="width: 100px;" disabled="disabled" class="form-control" placeholder="Total Case" />
                            <span class="label other ">Total Case</span>
                        </div>
                        <div class="col-xs-1">
                            <input type="text" id="txtTotalPCS" style="width: 100px;" disabled="disabled" class="form-control" placeholder="Total PCS" />
                            <span class="label other ">Total PCS</span>
                        </div>
                        <div class="col-xs-1">
                            <input type="text" id="txtTotalAmount" style="width: 100px;" disabled="disabled" class="form-control" placeholder="Total Amount" />
                            <span class="label other ">Total Amount</span>
                        </div>
                    </div>
                </div>

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>PAYMENT TERMS</b>
                        </div>
                    </div>
                    <div class="col-xs-1">
                        PAYMENT TERMS
                    </div>
                    <div class="col-xs-2">
                        <select id="ddlPaymentterms" class="form-control chosen" style="width:200px">
                            <option value="0" selected="selected">Select</option>
                            <option value="100%  Advance Payment">100%  Advance Payment</option>
                            <option value="100% Confirmed Irrevocable Letter of Credit AT SIGHT from First class International bank to be negotiable in any bank in India">100% Confirmed Irrevocable Letter of Credit AT SIGHT from First class International bank to be negotiable in any bank in India</option>
                            <option value="1">100% Confirmed Irrevocable Letter of Credit Usance period from First class International bank to be negotiable in any bank in India</option>
                            <option value="D/P (Documents against Payment)  or CAD (Cash against payments)">D/P (Documents against Payment)  or CAD (Cash against payments)</option>
                        </select>
                    </div>
                    <div id="lblusanceperoid">
                        <div class="col-xs-1">
                            USANCE PERIOD
                        </div>
                        <div class="col-xs-2">
                            <select id="ddlUsanceperiod" class="form-control chosen" style="width:200px">
                                <option value="Select" selected="selected">Select</option>
                                <option value="30 Days">30 Days</option>
                                <option value="60 Days">60 Days</option>
                                <option value="90 Days">90 Days</option>
                            </select>
                        </div>
                    </div>

                </div>

                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>Remarks and Save Data</b>
                        </div>
                    </div>
                    <div class="row col-xs-12">

                        <div style="margin-top:10px;"></div>
                        <div class="col-xs-1">
                            Remarks.
                        </div>
                        <div class="col-xs-4">

                            <textarea id="txtRemarks" style="width:300px"></textarea>
                        </div>
                    </div>

                    <div class="row col-xs-12">
                        <div class="col-xs-12">
                            <input type="submit" id="btnSave" value="Save" class="btn btn-success" />
                            <input type="submit" id="btnClose" value="Close" class="btn btn-danger" />
                        </div>
                    </div>
                </div>

            </div>
        </div>

            <div id="pnlDisplay">
                <div class="panel-body" style="box-shadow: 5px 5px 5px 5px #D6DAD9">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <b>Sale Order</b>
                        </div>
                    </div>

                    <div style="margin-top:10px;"></div>
                    <div class="row col-xs-12">

                        <div class="col-xs-1">
                            From Date:
                        </div>
                        <div class="col-xs-2">
                            <input type="text" id="txtfromdate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>

                        <div class="col-xs-1">
                            To Date:
                        </div>
                        <div class="col-xs-2">
                            <input type="text" id="txttodate" style="width: 100px;height:20px;" disabled="disabled" onkeypress="return false;" />
                        </div>
                        <div class="col-xs-4" id="divnewentry">
                            <input type="submit" id="btngvfill" value="Search" class="btn btn-info" />
                            <input type="submit" id="btnAddNew" value="Add New Records" class="btn btn-primary" />
                        </div>

                    </div>


                    <div style="margin-top:10px;"></div>
                    <div class="row col-xs-12">
                        <div class="col-lg-12" id="DivHeaderRow">
                            <div class="scroll" id="gvsaleorderdetails">

                            </div>
                            @*<table id="dispatchGridFG" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%"></table>*@
                        </div>
                    </div>
                </div>
                <div>

                    <input type="hidden" id="hdn_saleorderno" />
                    <input type="hidden" id="hdn_saleorderdelete" />

                </div>
            </div>

        </div>

    </div>


<div id="dialog" style="display: none;">
    <table border="0" cellpadding="0" cellspacing="0" style="width:10px">
        <tr>
            <td colspan="2" align="center">
                <img id="imgLoader" alt="" src="~/Images/McLoader.gif" style="visibility: hidden" />
            </td>
        </tr>
    </table>
</div>





